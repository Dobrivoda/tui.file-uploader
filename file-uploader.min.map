{"version":3,"file":"file-uploader.min.js","sources":["file-uploader.js"],"names":["CONF","RESPONSE_TYPE","REDIRECT_URL","JSONPCALLBACK_NAME","SIZE_UNIT","REMOVE_CALLBACK","ERROR","DEFAULT","NOT_SURPPORT","HTML","input","join","item","ne","util","defineNamespace","component","Uploader","defineClass","init","options","$el","View","this","_setData","_setConnector","inputView","Input","listView","List","_addEvent","constructor","isCrossDomain","helper","type","alert","useJsonp","_isSupportDataForm","_connector","Connector","notify","info","update","updateTotalInfo","extend","pageDomain","document","domain","url","send","indexOf","formData","FormData","sendFile","callback","bind","success","error","errorCallback","response","message","msg","removeFile","data","on","CustomEvents","mixin","Ajax","addRequest","config","$form","_uploader","successPadding","$","ajax","processData","contentType","json","JSON","parse","result","items","filelist","removeRequest","removePadding","remove","action","name","decodeURIComponent","uploader","_getMixinModuleName","replace","charAt","toUpperCase","connector","Jsonp","callbackName","submit","_getSplitItems","sep","separator","status","split","names","sizes","forEach","index","nItem","size","push","dataType","jsonp","html","template","_target","formTarget","_url","_render","_renderHiddenElements","_makeBridgeInfoElement","attr","method","enctype","target","append","_makeTargetFrame","_makeResultTypeElement","_makeCallbackElement","_makeSizeUnit","onChange","fire","_$target","css","visibility","position","_$sizeunit","_makeHiddenElement","value","sizeunit","_$callback","_$resType","resultTypeElementName","_$helper","Item","_setRoot","_setItemInfo","_setConnectInfo","render","_root","root","_$root","_type","_extractExtension","_id","id","_btnClass","deleteButtonClassName","_unit","unit","_hiddenInputName","hiddenFieldName","_getHtml","_$el","pop","$helper","map","filetype","filename","filesize","_getSizeWithUnit","mstr","destroy","_removeEvent","query","$delBtn","find","_onClickEvent","off","listInfo","list","$counter","count","$size","filter","_addFiles","_updateTotalCount","_updateTotalUsage","isExisty","length","_getSumAllItemUsage","totalUsage","parseInt","isArray","_createItem","hiddenFrame","_removeFile"],"mappings":"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"}