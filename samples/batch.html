<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="lib/jquery/jquery.js"></script>
    <script type="text/javascript" src="lib/tui-code-snippet/code-snippet.js"></script>
    <script type="text/javascript" src="js/file-uploader.js"></script>
    <!--<script type="text/javascript" src="../src/js/statics.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/uploader.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/connector/connector.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/connector/ajax.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/connector/jsonp.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/view/input.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/view/list.js"></script>-->
    <!--<script type="text/javascript" src="../src/js/view/item.js"></script>-->
    <link href="css/sample.css" rel="stylesheet" type="text/css" />
</head>
<body>

<div id="uploader"></div>
<div id="list">
    <div class="count">count : <strong id="file_count"></strong></div>
    <div class="size">size : <strong id="size_count"></strong></div>
    <ul id="files">
    </ul>
</div>
<script type="text/javascript">
    var uploader = new tui.component.Uploader({
        url: {
//            send: 'http://10.77.29.126:3000/upload',
//            remove: 'http://10.77.29.126:3000/remove'
            send: 'http://10.77.34.120:3001/upload',
            remove: 'http://10.77.34.120:3001/remove'
//          send: "http://127.0.0.1:8008/server/uploader.php",
//          remove: "http://127.0.0.1:8008/server/remove.php"
        },
        isBatchTransfer: true,
        formTarget: 'hiddenFrame',
        listInfo: {
            list: $('#files'),
            count: $('#file_count'),
            size: $('#size_count')
        },
        sizeunit: "KB",
        fileField: 'userfile[]',
        isMultiple: true,
        useDrag: true
    }, $('#uploader'));

    uploader.on('success', function(data) {
        console.log(data);
    });

    uploader.on('error', function(data) {
        alert(data.status + ' ' + data.message);
    });

//
//    uploader.on('batchSuccess', function(response) {
//        console.log(response);
//    });
//
//    var $iframe = $('iframe');
//    $iframe.on('load', function() {
//        if (this.contentDocument) {
//            alert(this.contentDocument.body.innerHTML);
//        } else if (this.contentWindow) {
//            alert(this.contentWindow.document.body.innerHTML);
//        }
//    });

</script>

</body>
</html>
